# =============================================================================
# Environment Variables Configuration for Nursing Rocks Concert Site
# =============================================================================
# Copy this file to .env and fill in the values
# IMPORTANT: Never commit .env to version control!
# =============================================================================

# =============================================================================
# DATABASE (Required - Neon PostgreSQL)
# =============================================================================
# Get your connection string from Neon Dashboard > Connect > Connection string
DATABASE_URL=postgresql://neondb_owner:password@ep-xxx.us-west-2.aws.neon.tech/neondb?sslmode=require

# =============================================================================
# VIDEO PROVIDER CONFIGURATION
# =============================================================================
# Choose your video provider: cloudflare | b2
# Cloudflare Stream (Recommended): No FFmpeg, automatic transcoding, works everywhere
# B2: Requires FFmpeg installation for HLS transcoding
VIDEO_PROVIDER=cloudflare

# =============================================================================
# CLOUDFLARE STREAM (Recommended - No FFmpeg Required!)
# =============================================================================
# Get these from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_ACCOUNT_ID=your_cloudflare_account_id
CLOUDFLARE_STREAM_API_TOKEN=your_cloudflare_stream_api_token

# =============================================================================
# BACKBLAZE B2 (Optional - Keep for migration or as backup)
# =============================================================================
# Backblaze B2 bucket (S3-compatible API)
VIDEO_B2_BUCKET=nursing-rocks-videos
VIDEO_B2_S3_ENDPOINT=https://s3.us-west-004.backblazeb2.com
VIDEO_B2_REGION=us-west-004
#
# Credentials (create an application key with list/get/put permissions)
VIDEO_B2_ACCESS_KEY_ID=your_b2_key_id
VIDEO_B2_SECRET_ACCESS_KEY=your_b2_application_key
#
# Public base URL for playback
VIDEO_CDN_BASE_URL=https://f004.backblazeb2.com/file/nursing-rocks-videos
#
# Optional prefixes inside the bucket
VIDEO_SOURCE_PREFIX=source
VIDEO_HLS_PREFIX=hls
VIDEO_POSTER_PREFIX=poster

# =============================================================================
# AUTHENTICATION (Required - Generate new secrets!)
# =============================================================================
# Generate new secrets using:
#   openssl rand -base64 32
# These are CRITICAL for security - never share or commit these values!
JWT_SECRET=your_secure_jwt_secret_min_32_chars
SESSION_SECRET=your_secure_session_secret_min_32_chars

# =============================================================================
# STRIPE (Optional - for payment processing)
# =============================================================================
# Test keys for development, live keys for production
# Get from Stripe Dashboard > Developers > API keys
STRIPE_SECRET_KEY=sk_test_your_test_secret_key
VITE_STRIPE_PUBLIC_KEY=pk_test_your_test_publishable_key

# For production, use:
# STRIPE_SECRET_KEY=sk_live_your_live_secret_key
# VITE_STRIPE_PUBLIC_KEY=pk_live_your_live_publishable_key

# =============================================================================
# CUSTOMCAT API (Optional - for merchandise/product sync)
# =============================================================================
# Get from CustomCat vendor portal
CUSTOMCAT_API_KEY=your_customcat_api_key

# =============================================================================
# NURSE LICENSE VERIFICATION (Optional - for real verification)
# =============================================================================
# Get from your nursing board verification API provider
VERIFICATION_API_KEY=your_verification_api_key

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# Port for local development server
PORT=5000

# Environment: development | production
NODE_ENV=development

# =============================================================================
# CORS (Cross-Origin Resource Sharing)
# =============================================================================
# Add your production domains to allow cross-origin requests
# Separate multiple domains with commas
ALLOWED_ORIGINS=http://localhost:5000,http://localhost:5173,https://yourdomain.com,https://www.yourdomain.com

# =============================================================================
# EMAIL CONFIGURATION (Optional - for notifications)
# =============================================================================
# If using email notifications
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_email@example.com
# SMTP_PASS=your_email_password
# FROM_EMAIL=noreply@yourdomain.com

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
# Default admin email for notifications
# ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# VERCEL DEPLOYMENT NOTES
# =============================================================================
# When deploying to Vercel:
# 1. Add all required variables in Vercel Dashboard > Settings > Environment Variables
# 2. Set NODE_ENV=production
# 3. Add your production domains to ALLOWED_ORIGINS
# 4. Use STRIPE_LIVE keys (sk_live_*) for production
# 5. Ensure DATABASE_URL has sslmode=require
# =============================================================================
